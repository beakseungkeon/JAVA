<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=\, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <table>
        <thead>
            <tr>
                <th>번호</th>
                <th>제목</th>
                <th>작성일</th>
                <th>기능</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th>2</th>
                <th>가입인사</th>
                <th>2024-01-02</th>
                <th><button class="btn-del">삭제</button></th>
            </tr>
            <tr>
                <th>1</th>
                <th>가입인사</th>
                <th>2024-01-01</th>
                <th><button class="btn-del">삭제</button></th>
            </tr>
        </tbody>
    </table>
    <script>
        let btns=document.querySelectorAll(".btn-del");
        btns.forEach(function(btn) {
            btn.onclick=function(){
                let td = this.parentElement;
                let tr= td.parentElement;
                let numTd=tr.firstElementChild;
                let num=numTd.innerText;
                alert(`${num}번 게시글이 삭제되었습니다.`)
                tr.remove();
                //마지막 요소를 삭제하면 등록된 게시글이 없습니다라고
                //테이블에 출력
            let trList=document.querySelectorAll("tbody>tr");
            if(trList.length){
                return;
            }
             let lastTh=createElement("th","등록된 게시글이 없습니다.",{colspan:4});   
            let lastTr=createElement("tr",null,null);
            lastTr.append(lastTh);
            let tbody=document.querySelector("tbody");
            tbody.append(lastTr);

            }
        });
        
        function createElement(tagName,text,attr){
            //요소생성
            let element=document.createElement(tagName);
            if(text){
                let textNode=document.createTextNode(text);
                //요소에 텍스트 노드 추가
                element.append(textNode);
                //객체로 넘겨받은 속성들을 이용해서 속성노드를 생성하고
                //생성된 속성 노드를 요소에 추가

            }
            if(!attr){
                return element;
            }
            for(key in attr){
                //속성 노드 생성
                let attrNode=document.createAttribute(key);
                //속성 노드의 값을 설정
                attrNode.value=attr[key];
                //요소에 속성 노드를 추가
                element.setAttributeNode(attrNode);

            }
            return element;
        }
    </script>
</body>
</html>